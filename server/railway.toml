# Railway Configuration File for JobQ Backend
# This file is in the project root for Railway to detect it
# Since the root directory is set to "server", Railway will use settings from server/railway.toml if it exists
# Otherwise, this file will be used

[build]
# Use Nixpacks as the builder (default for Node.js)
builder = "nixpacks"

# Build command - Railway will run this from the server directory
buildCommand = "cd server && npm ci --only=production"

[deploy]
# Start command - Railway will run this from the server directory
startCommand = "cd server && node src/app.js"

# Health check configuration
# Railway will check this endpoint to ensure the service is healthy
healthcheckPath = "/api/jobs/health"
healthcheckTimeout = 100

# Restart policy: restart on failure
restartPolicyType = "on_failure"
restartPolicyMaxRetries = 10

